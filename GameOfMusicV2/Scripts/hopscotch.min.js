(function(n,t){var w,c,b,k,l,a,p,v="bubble_default",d=window.Sizzle||null,r,h,o,g,s,e=n[t],f="undefined",nt=!1,tt=typeof jQuery!==f,y=!1,u=window.document;try{y=typeof sessionStorage!==f}catch(it){}(s={smoothScroll:!0,scrollDuration:1e3,scrollTopMargin:200,showCloseButton:!0,showPrevButton:!1,showNextButton:!0,bubbleWidth:280,bubblePadding:15,arrowWidth:20,skipIfNoElement:!0,cookieName:"hopscotch.tour.state"},e)||(Array.isArray||(Array.isArray=function(n){return Object.prototype.toString.call(n)==="[object Array]"}),g=function(){nt&&e.startTour()},r={addClass:function(n,t){var r,u,i,f;if(n.className){for(u=t.split(/\s+/),r=" "+n.className+" ",i=0,f=u.length;i<f;++i)r.indexOf(" "+u[i]+" ")<0&&(r+=u[i]+" ");n.className=r.replace(/^\s+|\s+$/g,"")}else n.className=t},removeClass:function(n,t){var i,u,r,f;for(u=t.split(/\s+/),i=" "+n.className+" ",r=0,f=u.length;r<f;++r)i=i.replace(" "+u[r]+" "," ");n.className=i.replace(/^\s+|\s+$/g,"")},hasClass:function(n,t){var i;return n.className?(i=" "+n.className+" ",i.indexOf(" "+t+" ")!==-1):!1},getPixelValue:function(n){var t=typeof n;return t==="number"?n:t==="string"?parseInt(n,10):0},valOrDefault:function(n,t){return typeof n!==f?n:t},invokeCallbackArrayHelper:function(n){var t;if(Array.isArray(n)&&(t=o[n[0]],typeof t=="function"))return t.apply(this,n.slice(1))},invokeCallbackArray:function(n){var t,i;if(Array.isArray(n)){if(typeof n[0]=="string")return r.invokeCallbackArrayHelper(n);for(t=0,i=n.length;t<i;++t)r.invokeCallback(n[t])}},invokeCallback:function(n){return typeof n=="function"?n():typeof n=="string"&&o[n]?o[n]():r.invokeCallbackArray(n)},invokeEventCallbacks:function(n,t){var r=h[n],i,u;if(t)return this.invokeCallback(t);for(i=0,u=r.length;i<u;++i)this.invokeCallback(r[i].cb)},getScrollTop:function(){return typeof pageYOffset!==f?window.pageYOffset:u.documentElement.scrollTop},getScrollLeft:function(){return typeof pageXOffset!==f?window.pageXOffset:u.documentElement.scrollLeft},getWindowHeight:function(){return window.innerHeight||u.documentElement.clientHeight},getWindowWidth:function(){return window.innerWidth||u.documentElement.clientWidth},addEvtListener:function(n,t,i){return n.addEventListener?n.addEventListener(t,i,!1):n.attachEvent("on"+t,i)},removeEvtListener:function(n,t,i){return n.removeEventListener?n.removeEventListener(t,i,!1):n.detachEvent("on"+t,i)},documentIsReady:function(){return u.readyState==="complete"||u.readyState==="interactive"},evtPreventDefault:function(n){n.preventDefault?n.preventDefault():event&&(event.returnValue=!1)},extend:function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},getStepTargetHelper:function(n){var t=u.getElementById(n);return t?t:u.querySelector?u.querySelector(n):tt?(t=jQuery(n),t.length?t[0]:null):d?(t=new d(n),t.length?t[0]:null):/^#[a-zA-Z][\w-_:.]*$/.test(n)?u.getElementById(n.substring(1)):null},getStepTarget:function(n){var i,t,u;if(!n||!n.target)return null;if(typeof n.target=="string")return n.target=r.getStepTargetHelper(n.target),n.target;if(Array.isArray(n.target)){for(t=0,u=n.target.length;t<u;t++)if(typeof n.target[t]=="string"&&(i=r.getStepTargetHelper(n.target[t]),i))return n.target=i,i;return null}return n.target},getI18NString:function(n){return l[n]||k[n]},setState:function(n,t,i){var f="",r;y?sessionStorage.setItem(n,t):(i&&(r=new Date,r.setTime(r.getTime()+i*864e5),f="; expires="+r.toGMTString()),u.cookie=n+"="+t+f+"; path=/")},getState:function(n){var f=n+"=",e=u.cookie.split(";"),i,t,r;if(y)r=sessionStorage.getItem(n);else for(i=0;i<e.length;i++){for(t=e[i];t.charAt(0)===" ";)t=t.substring(1,t.length);if(t.indexOf(f)===0){r=t.substring(f.length,t.length);break}}return r},clearState:function(n){y?sessionStorage.removeItem(n):this.setState(n,"",-1)}},r.addEvtListener(window,"load",g),h={next:[],prev:[],start:[],end:[],show:[],error:[],close:[]},o={},k={stepNums:null,nextBtn:"Next",prevBtn:"Back",doneBtn:"Done",skipBtn:"Skip",closeTooltip:"Close"},l={},c=function(n){this.init(n)},c.prototype={isShowing:!1,currStep:undefined,setPosition:function(n){var s,h,t,i,u,e,c=r.getStepTarget(n),o=this.element,f=this.arrowEl;if(h=o.offsetWidth,s=o.offsetHeight,r.removeClass(o,"fade-in-down fade-in-up fade-in-left fade-in-right"),!n.placement&&n.orientation&&(n.placement=n.orientation),t=c.getBoundingClientRect(),n.placement==="top")i=t.top-s-this.opt.arrowWidth,u=t.left;else if(n.placement==="bottom")i=t.bottom+this.opt.arrowWidth,u=t.left;else if(n.placement==="left")i=t.top,u=t.left-h-this.opt.arrowWidth;else if(n.placement==="right")i=t.top,u=t.right+this.opt.arrowWidth;else throw"Bubble placement failed because step.placement is invalid or undefined!";e=n.arrowOffset!=="center"?r.getPixelValue(n.arrowOffset):n.arrowOffset;e?n.placement==="top"||n.placement==="bottom"?(f.style.top="",f.style.left=e==="center"?Math.floor(h/2-f.offsetWidth/2)+"px":e+"px"):(n.placement==="left"||n.placement==="right")&&(f.style.left="",f.style.top=e==="center"?Math.floor(s/2-f.offsetHeight/2)+"px":e+"px"):(f.style.top="",f.style.left="");n.xOffset==="center"?u=t.left+c.offsetWidth/2-h/2:u+=r.getPixelValue(n.xOffset);n.yOffset==="center"?i=t.top+c.offsetHeight/2-s/2:i+=r.getPixelValue(n.yOffset);n.fixedElement||(i+=r.getScrollTop(),u+=r.getScrollLeft());o.style.position=n.fixedElement?"fixed":"absolute";o.style.top=i+"px";o.style.left=u+"px"},render:function(n,t,u){var s=this.element,f,c,l,o,y,w,p,h;if(n?this.currStep=n:this.currStep&&(n=this.currStep),this.opt.isTourBubble?(o=e.getCurrTour(),o&&(c=o.customData,f=o.customRenderer,l=o.unsafe,Array.isArray(o.steps)&&(y=o.steps.length,p=t===y-1))):(c=n.customData,f=n.customRenderer,l=n.unsafe),w=p?r.getI18NString("doneBtn"):n.showSkip?r.getI18NString("skipBtn"):r.getI18NString("nextBtn"),!n.placement&&n.orientation&&(n.placement=n.orientation),this.placement=n.placement,h={i18n:{prevBtn:r.getI18NString("prevBtn"),nextBtn:w,closeTooltip:r.getI18NString("closeTooltip"),stepNum:this._getStepI18nNum(t)},buttons:{showPrev:r.valOrDefault(n.showPrevButton,this.opt.showPrevButton)&&t>0,showNext:r.valOrDefault(n.showNextButton,this.opt.showNextButton),showCTA:r.valOrDefault(n.showCTAButton&&n.ctaLabel,!1),ctaLabel:n.ctaLabel,showClose:r.valOrDefault(this.opt.showCloseButton,!0)},step:{num:t,isLast:r.valOrDefault(p,!1),title:n.title||"",content:n.content||"",placement:n.placement,padding:r.valOrDefault(n.padding,this.opt.bubblePadding),width:r.getPixelValue(n.width)||this.opt.bubbleWidth,customData:n.customData||{}},tour:{isTour:this.opt.isTourBubble,numSteps:y,unsafe:r.valOrDefault(l,!1),customData:c||{}}},typeof f=="function")s.innerHTML=f(h);else if(typeof f=="string"){if(!hopscotch.templates||typeof hopscotch.templates[f]!="function")throw'Bubble rendering failed - template "'+f+'" is not a function.';s.innerHTML=hopscotch.templates[f](h)}else if(a)s.innerHTML=a(h);else{if(!hopscotch.templates||typeof hopscotch.templates[v]!="function")throw'Bubble rendering failed - template "'+v+'" is not a function.';s.innerHTML=hopscotch.templates[v](h)}for(children=s.children,numChildren=children.length,i=0;i<numChildren;i++)node=children[i],r.hasClass(node,"hopscotch-arrow")&&(this.arrowEl=node);return s.style.zIndex=n.zindex||"",this._setArrow(n.placement),this.hide(!1),this.setPosition(n),u&&u(!n.fixedElement),this},_getStepI18nNum:function(n){var t=r.getI18NString("stepNums");return t&&n<t.length?t[n]:n+1},_setArrow:function(n){r.removeClass(this.arrowEl,"down up right left");n==="top"?r.addClass(this.arrowEl,"down"):n==="bottom"?r.addClass(this.arrowEl,"up"):n==="left"?r.addClass(this.arrowEl,"right"):n==="right"&&r.addClass(this.arrowEl,"left")},_getArrowDirection:function(){return this.placement==="top"?"down":this.placement==="bottom"?"up":this.placement==="left"?"right":this.placement==="right"?"left":void 0},show:function(){var n=this,t="fade-in-"+this._getArrowDirection();return r.removeClass(this.element,"hide"),r.addClass(this.element,t),setTimeout(function(){r.removeClass(n.element,"invisible")},50),setTimeout(function(){r.removeClass(n.element,t)},1e3),this.isShowing=!0,this},hide:function(n){var t=this.element;return n=r.valOrDefault(n,!0),t.style.top="",t.style.left="",n?(r.addClass(t,"hide"),r.removeClass(t,"invisible")):(r.removeClass(t,"hide"),r.addClass(t,"invisible")),r.removeClass(t,"animate fade-in-up fade-in-down fade-in-right fade-in-left"),this.isShowing=!1,this},destroy:function(){var n=this.element;n&&n.parentNode.removeChild(n);r.removeEvtListener(n,"click",this.clickCb)},_handleBubbleClick:function(n){function i(t){return t===n.currentTarget?null:r.hasClass(t,"hopscotch-cta")?"cta":r.hasClass(t,"hopscotch-next")?"next":r.hasClass(t,"hopscotch-prev")?"prev":r.hasClass(t,"hopscotch-close")?"close":i(t.parentElement)}var t;if(t=i(n.target),t==="cta")this.opt.isTourBubble||e.getCalloutManager().removeCallout(this.currStep.id),this.currStep.onCTA&&r.invokeCallback(this.currStep.onCTA);else if(t==="next")e.nextStep(!0);else if(t==="prev")e.prevStep(!0);else if(t==="close"){if(this.opt.isTourBubble){var u=e.getCurrStepNum(),f=e.getCurrTour(),o=u===f.steps.length-1;r.invokeEventCallbacks("close");e.endTour(!0,o)}else this.opt.onClose&&r.invokeCallback(this.opt.onClose),this.opt.id&&!this.opt.isTourBubble?e.getCalloutManager().removeCallout(this.opt.id):this.destroy();r.evtPreventDefault(n)}},init:function(n){var i=u.createElement("div"),e=this,h=!1,c,t,o;this.element=i;o={showPrevButton:s.showPrevButton,showNextButton:s.showNextButton,bubbleWidth:s.bubbleWidth,bubblePadding:s.bubblePadding,arrowWidth:s.arrowWidth,showNumber:!0,isTourBubble:!0};n=typeof n===f?{}:n;r.extend(o,n);this.opt=o;i.className="hopscotch-bubble animated";o.isTourBubble||r.addClass(i,"hopscotch-callout no-number");c=function(){!h&&e.isShowing&&(h=!0,setTimeout(function(){e.setPosition(e.currStep);h=!1},100))};r.addEvtListener(window,"resize",c);this.clickCb=function(n){e._handleBubbleClick(n)};r.addEvtListener(i,"click",this.clickCb);this.hide();r.documentIsReady()?u.body.appendChild(i):(u.addEventListener?(t=function(){u.removeEventListener("DOMContentLoaded",t);window.removeEventListener("load",t);u.body.appendChild(i)},u.addEventListener("DOMContentLoaded",t,!1)):(t=function(){u.readyState==="complete"&&(u.detachEvent("onreadystatechange",t),window.detachEvent("onload",t),u.body.appendChild(i))},u.attachEvent("onreadystatechange",t)),r.addEvtListener(window,"load",t))}},b=function(){var n={};this.createCallout=function(t){var i;if(t.id){if(n[t.id])throw"Callout by that id already exists. Please choose a unique id.";t.showNextButton=t.showPrevButton=!1;t.isTourBubble=!1;i=new c(t);n[t.id]=i;t.target&&i.render(t,null,function(){i.show()})}else throw"Must specify a callout id.";return i};this.getCallout=function(t){return n[t]};this.removeAllCallouts=function(){var t;for(t in n)n.hasOwnProperty(t)&&this.removeCallout(t)};this.removeCallout=function(t){var i=n[t];(n[t]=null,i)&&i.destroy()}},w=function(n){var ht=this,g,it,w,e,t,ft,k,rt,d=function(n){return g||(g=new c(w)),n&&r.extend(g.opt,{bubblePadding:i("bubblePadding"),bubbleWidth:i("bubbleWidth"),showNextButton:i("showNextButton"),showPrevButton:i("showPrevButton"),showCloseButton:i("showCloseButton"),arrowWidth:i("arrowWidth")}),g},i=function(n){return typeof w=="undefined"?s[n]:r.valOrDefault(w[n],s[n])},y=function(){return t<0||t>=e.steps.length?null:e.steps[t]},et=function(){ht.nextStep()},ct=function(n){var it=d(),a=it.element,h=r.getPixelValue(a.style.top),v=h+r.getPixelValue(a.offsetHeight),rt=r.getStepTarget(y()),p=rt.getBoundingClientRect(),w=p.top+r.getScrollTop(),b=p.bottom+r.getScrollTop(),o=h<w?h:w,ut=v>b?v:b,e=r.getScrollTop(),ft=e+r.getWindowHeight(),t=o-i("scrollTopMargin"),k,c,g,s,nt,l;o>=e&&(o<=e+i("scrollTopMargin")||ut<=ft)?n&&n():i("smoothScroll")?typeof YAHOO!==f&&typeof YAHOO.env!==f&&typeof YAHOO.env.ua!==f&&typeof YAHOO.util!==f&&typeof YAHOO.util.Scroll!==f?(k=YAHOO.env.ua.webkit?u.body:u.documentElement,g=YAHOO.util.Easing?YAHOO.util.Easing.easeOut:undefined,c=new YAHOO.util.Scroll(k,{scroll:{to:[0,t]}},i("scrollDuration")/1e3,g),c.onComplete.subscribe(n),c.animate()):tt?jQuery("body, html").animate({scrollTop:t},i("scrollDuration"),n):(t<0&&(t=0),s=e>o?-1:1,nt=Math.abs(e-t)/(i("scrollDuration")/10),l=function(){var u=r.getScrollTop(),i=u+s*nt;if(s>0&&i>=t||s<0&&i<=t){i=t;n&&n();window.scrollTo(0,i);return}if(window.scrollTo(0,i),r.getScrollTop()===u){n&&n();return}setTimeout(l,10)},l()):(window.scrollTo(0,t),n&&n())},ut=function(n,i){var o,u,f;t+n>=0&&t+n<e.steps.length?(t+=n,u=y(),f=function(){o=r.getStepTarget(u);o?i(t):(r.invokeEventCallbacks("error"),ut(n,i))},u.delay?setTimeout(f,u.delay):f()):i(-1)},ot=function(n,u){var c=d(),l=this,f,o,s,h;if(c.hide(),n=r.valOrDefault(n,!0),f=y(),o=f,s=u>0?o.multipage:t>0&&e.steps[t-1].multipage,h=function(f){var h;if(f===-1)return this.endTour(!0);if(n&&(h=u>0?r.invokeEventCallbacks("next",o.onNext):r.invokeEventCallbacks("prev",o.onPrev)),f===t){if(s){r.setState(i("cookieName"),e.id+":"+t,1);return}h=r.valOrDefault(h,!0);h?this.showStep(f):this.endTour(!1)}},!s&&i("skipIfNoElement"))ut(u,function(n){h.call(l,n)});else if(t+u>=0&&t+u<e.steps.length){if(t+=u,f=y(),!r.getStepTarget(f)&&!s)return r.invokeEventCallbacks("error"),this.endTour(!0,!1);h.call(this,t)}return this},lt=function(n){var e={},t,u,f;for(t in n)n.hasOwnProperty(t)&&t!=="id"&&t!=="steps"&&(e[t]=n[t]);return rt.call(this,e,!0),u=r.getState(i("cookieName")),u&&(f=u.split(":"),ft=f[0],k=f[1],k=parseInt(k,10)),this},at=function(n,u){var e,f;if(t=n||0,e=y(),f=r.getStepTarget(e),f){u(t);return}if(!f){if(r.invokeEventCallbacks("error"),i("skipIfNoElement")){ut(1,u);return}t=-1;u(t)}},st=function(n){var u=e.steps[n],s=e.steps,h=s.length,c=e.id+":"+n,f=d(),l=r.getStepTarget(u),a,o;o=function(){f.show();r.invokeEventCallbacks("show",u.onShow)};t=n;f.hide(!1);a=n===h-1;f.render(u,n,function(n){n?ct(o):o();u.nextOnTargetClick&&r.addEvtListener(l,"click",et)});r.setState(i("cookieName"),c,1)},vt=function(n){n&&this.configure(n)};this.getCalloutManager=function(){return typeof it===f&&(it=new b),it};this.startTour=function(n,t){var s,u,o=this;if(e||(e=n,lt.call(this,n)),typeof t!==f){if(t>=e.steps.length)throw"Specified step number out of bounds.";u=t}return r.documentIsReady()?(typeof u=="undefined"&&e.id===ft&&typeof k!==f?u=k:u||(u=0),at(u,function(n){var t=n!==-1&&r.getStepTarget(e.steps[n]);if(!t){o.endTour(!1,!1);return}r.invokeEventCallbacks("start");s=d();s.hide(!1);o.isActive=!0;r.getStepTarget(y())?o.showStep(n):(r.invokeEventCallbacks("error"),i("skipIfNoElement")&&o.nextStep(!1))}),this):(nt=!0,this)};this.showStep=function(n){var t=e.steps[n];return t.delay?setTimeout(function(){st(n)},t.delay):st(n),this};this.prevStep=function(n){return ot.call(this,n,-1),this};this.nextStep=function(n){var t=y(),i=r.getStepTarget(t);return t.nextOnTargetClick&&r.removeEvtListener(i,"click",et),ot.call(this,n,1),this};this.endTour=function(n,u){var f=d();return n=r.valOrDefault(n,!0),u=r.valOrDefault(u,!0),t=0,k=undefined,f.hide(),n&&r.clearState(i("cookieName")),this.isActive&&(this.isActive=!1,e&&u&&r.invokeEventCallbacks("end")),this.removeCallbacks(null,!0),this.resetDefaultOptions(),e=null,this};this.getCurrTour=function(){return e};this.getCurrTarget=function(){return r.getStepTarget(y())};this.getCurrStepNum=function(){return t};this.refreshBubblePosition=function(){return g.setPosition(y()),this};this.listen=function(n,t,i){return n&&h[n].push({cb:t,fromTour:i}),this};this.unlisten=function(n,t){for(var r=h[n],i=0,u=r.length;i<u;++i)r[i]===t&&r.splice(i,1);return this};this.removeCallbacks=function(n,t){var r,i,u;for(var f in h)if(!n||n===f)if(t)for(r=h[f],i=0,u=r.length;i<u;++i)r[i].fromTour&&(r.splice(i--,1),--u);else h[f]=[];return this};this.registerHelper=function(n,t){typeof n=="string"&&typeof t=="function"&&(o[n]=t)};this.unregisterHelper=function(n){o[n]=null};this.invokeHelper=function(n){for(var i=[],t=1,r=arguments.length;t<r;++t)i.push(arguments[t]);o[n]&&o[n].call(null,i)};this.setCookieName=function(n){return w.cookieName=n,this};this.resetDefaultOptions=function(){return w={},this};this.resetDefaultI18N=function(){return l={},this};this.getState=function(){return r.getState(i("cookieName"))};rt=function(n,t){var o,u=["next","prev","start","end","show","error","close"],f,i,e;for(w||this.resetDefaultOptions(),r.extend(w,n),n&&r.extend(l,n.i18n),i=0,e=u.length;i<e;++i)f="on"+u[i].charAt(0).toUpperCase()+u[i].substring(1),n[f]&&this.listen(u[i],n[f],t);return o=d(!0),this};this.configure=function(n){return rt.call(this,n,!1)};this.setRenderer=function(n){var t=typeof n;return t==="string"?(v=n,a=undefined):t==="function"&&(a=n),this};this.setEscaper=function(n){return typeof n=="function"&&(p=n),this};vt.call(this,n)},e=new w,n[t]=e,function(){var _={};_.escape=function(n){return p?p(n):n==null?"":(""+n).replace(new RegExp("[&<>\"']","g"),function(n){return n=="&"?"&amp;":n=="<"?"&lt;":n==">"?"&gt;":n=='"'?"&quot;":n=="'"?"&#x27;":void 0})};this.hopscotch=this.hopscotch||{};this.hopscotch.templates=this.hopscotch.templates||{};this.hopscotch.templates.bubble_default=function(n){n||(n={});var __t,__p="",i=_.escape,t=Array.prototype.join;with(n){function optEscape(n,t){return t?_.escape(n):n}__p+='\n<div class="hopscotch-bubble-container" style="width: '+((__t=step.width)==null?"":__t)+"px; padding: "+((__t=step.padding)==null?"":__t)+'px;">\n  ';tour.isTour&&(__p+='<span class="hopscotch-bubble-number">'+((__t=i18n.stepNum)==null?"":__t)+"<\/span>");__p+='\n  <div class="hopscotch-bubble-content">\n    ';step.title!==""&&(__p+='<h3 class="hopscotch-title">'+((__t=optEscape(step.title,tour.unsafe))==null?"":__t)+"<\/h3>");__p+="\n    ";step.content!==""&&(__p+='<div class="hopscotch-content">'+((__t=optEscape(step.content,tour.unsafe))==null?"":__t)+"<\/div>");__p+='\n  <\/div>\n  <div class="hopscotch-actions">\n    ';buttons.showPrev&&(__p+='<button class="hopscotch-nav-button prev hopscotch-prev">'+((__t=i18n.prevBtn)==null?"":__t)+"<\/button>");__p+="\n    ";buttons.showCTA&&(__p+='<button class="hopscotch-nav-button next hopscotch-cta">'+((__t=buttons.ctaLabel)==null?"":__t)+"<\/button>");__p+="\n    ";buttons.showNext&&(__p+='<button class="hopscotch-nav-button next hopscotch-next">'+((__t=i18n.nextBtn)==null?"":__t)+"<\/button>");__p+="\n  <\/div>\n  ";buttons.showClose&&(__p+='<a title="'+((__t=i18n.closeTooltip)==null?"":__t)+'" href="#" class="hopscotch-bubble-close hopscotch-close">'+((__t=i18n.closeTooltip)==null?"":__t)+"<\/a>");__p+='\n<\/div>\n<div class="hopscotch-bubble-arrow-container hopscotch-arrow">\n  <div class="hopscotch-bubble-arrow-border"><\/div>\n  <div class="hopscotch-bubble-arrow"><\/div>\n<\/div>'}return __p}}())})(window,"hopscotch");
/*
//# sourceMappingURL=hopscotch.min.js.map
*/